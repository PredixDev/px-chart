<!doctype html>

<html>
<head>
  <title>px-ts-chart Demo</title>

  <!-- Requires Webcomponents.js polyfill is provided by the page for browsers that don't support html imports -->
  <script src="../webcomponentsjs/webcomponents.js"></script>

  <!-- Import custom element. Note: see comment about relative paths to dependencies in the *.html file referenced below -->
  <link rel="import" href="../px-theme/px-theme.html"/>
  <link rel="import" href="../iron-ajax/iron-ajax.html"/>
  <link rel="import" href="px-ts-chart.html"/>

  <style is="x-style">
    html {
      height: 100%;
      font-size:0.9375em;
    }
    body {
      height: 100%;
      margin: 0;
    }
  </style>

</head>

<body>

<section>
  <px-ts-chart chart-state="{{model}}">
    <px-ts-chart-controls data-controls></px-ts-chart-controls>
    <px-chart-yaxis offset="0"></px-chart-yaxis>
    <px-chart-yaxis opposite="true" offset="-2.5"></px-chart-yaxis>
    <px-chart-series name="fan-vibration-cruise" axis-index="1">
      <iron-ajax
          url="../demo-data/aviation/fan-vibration-cruise.json"
          handleas="json"></iron-ajax>
    </px-chart-series>
    <px-chart-series name="hpt-acc-position-cruise" axis-index="2">
      <iron-ajax
          url="../demo-data/aviation/hpt-acc-position-cruise.json"
          handleas="json"></iron-ajax>
    </px-chart-series>
  </px-ts-chart>
</section>

<section>
  <px-ts-chart chart-state="{{model}}">
    <px-ts-chart-controls data-controls></px-ts-chart-controls>
    <px-chart-yaxis offset="0"></px-chart-yaxis>
    <px-chart-yaxis opposite="true" offset="-2.5"></px-chart-yaxis>
    <px-chart-series name="fan-vibration-cruise" axis-index="1">
      <iron-ajax
          url="../demo-data/aviation/fan-vibration-cruise.json"
          handleas="json"></iron-ajax>
    </px-chart-series>
    <px-chart-series name="hpt-acc-position-cruise" axis-index="2">
      <iron-ajax
          url="../demo-data/aviation/hpt-acc-position-cruise.json"
          handleas="json"></iron-ajax>
    </px-chart-series>
  </px-ts-chart>

</section>

<script>


var model = {};

// Which we then observe
Object.observe(model, function(changes){
    console.log('model-changed');
    // This asynchronous callback runs
    changes.forEach(function(change) {

        // Letting us know what changed
        console.log(change.type, change.name, change.oldValue);
    });

});

</script>

</body>
</html>
